sales {
  # Spark配置
  spark {
    master = "local[*]"
    app.name = "Sales Data Warehouse ETL"
    sql.warehouse.dir = "/user/hive/warehouse"
    executor.memory = "2g"
    executor.cores = 2
    executor.instances = 2
    driver.memory = "2g"
    shuffle.partitions = 50
  }
  
  # MySQL配置
  mysql {
    jdbc.url = "jdbc:mysql://localhost:3306/sales_db?useSSL=false"
    user = "root"
    password = "password"
    driver = "com.mysql.cj.jdbc.Driver"
  }
  
  # Hive配置
  hive {
    warehouse.dir = "/user/hive/warehouse"
    metastore.uris = "thrift://localhost:9083"
    ods.database = "purchase_sales_ods"
    dwd.database = "purchase_sales_dwd"
    dws.database = "purchase_sales_dws"
    dq.database = "purchase_sales_dq"
  }
  
  # Doris配置
  doris {
    jdbc.url = "jdbc:mysql://localhost:9030/sales_analysis"
    user = "root"
    password = "password"
    database = "sales_analysis"
  }
  
  # 表配置
  tables {
    users = "users"
    employees = "employees"
    products = "products"
    sales_orders = "sales_orders"
    sales_order_items = "sales_order_items"
    purchase_orders = "purchase_orders"
    purchase_order_items = "purchase_order_items"
    suppliers = "suppliers"
  }
  
  # ETL日期配置
  etl {
    date.format = "yyyy-MM-dd"
    partition.format = "yyyyMMdd"
    
    # 数据质量检查阈值
    quality {
      null.ratio.threshold = 0.05
      completeness.threshold = 0.95
      consistency.threshold = 0.99
      accuracy.threshold = 0.98
    }
  }
  
  # 数据生命周期配置
  lifecycle {
    ods.retention.days = 90        # ODS层数据保留90天
    dwd.retention.days = 180       # DWD层数据保留180天
    dws.day.retention.days = 365   # DWS层按天汇总数据保留365天
    dws.month.retention.years = 10 # DWS层按月汇总数据保留10年
  }
  
  # 数据处理窗口配置
  processing {
    default.window = "day"          # 默认按天处理
    max.retry.count = 3             # 最大重试次数
    retry.interval.seconds = 300    # 重试间隔(秒)
  }
  
  # 数据一致性检查阈值
  consistency {
    # 允许的DWD相对于ODS数据量的最小比例
    ods_to_dwd.threshold = 0.95
    # 允许的汇总指标误差率
    summary.error.threshold = 0.0001
  }
} 